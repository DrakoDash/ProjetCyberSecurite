<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Identifier les Menaces - Quiz</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap">
<style>
    body {
        margin: 0;
        background: #0a0f24;
        color: white;
        font-family: Poppins, sans-serif;
    }
    header {
        padding: 30px;
        text-align: center;
        background: #0d132b;
    }
    header h1 {
        margin: 0;
        font-size: 2.2rem;
    }
    header a {
        color: #3f6cf3;
        text-decoration: none;
        font-size: 1rem;
    }
    .quiz-container {
        max-width: 700px;
        margin: 40px auto;
        background: #111833;
        padding: 30px;
        border-radius: 14px;
        box-shadow: 0 5px 20px rgba(0,0,0,0.5);
    }
    .question {
        font-size: 1.4rem;
        margin-bottom: 20px;
    }
    .btn-answer {
        display: block;
        width: 100%;
        padding: 12px;
        margin: 10px 0;
        background: #16204a;
        border: none;
        border-radius: 10px;
        cursor: pointer;
        transition: 0.2s;
        color: white;
    }
    .btn-answer:hover { background: #1f2a66; }
    #next-btn {
        margin-top: 20px;
        padding: 12px 20px;
        background: #3f6cf3;
        border: none;
        border-radius: 10px;
        cursor: pointer;
        display: none;
    }
    #next-btn:hover { background: #5b82ff; }
    #progress {
        font-size: 1rem;
        margin-bottom: 15px;
        opacity: 0.8;
    }
    #results {
        margin-top: 20px;
        background: #0d1330;
        padding: 20px;
        border-radius: 10px;
        display: none;
    }
    .error-item {
        background: #1c2347;
        padding: 10px;
        border-radius: 8px;
        margin-bottom: 10px;
    }
</style>
</head>
<body>

<header>
  <a href="apprendre.html">‚Üê Retour</a>
  <h1>Identifier les Menaces</h1>
</header>

<div class="quiz-container">
    <div id="progress"></div>
    <div id="question" class="question"></div>
    <div id="answers"></div>
    <button id="next-btn">Question suivante</button>
    <div id="results"></div>
</div>

<script>
const questions = [
    { question: "Un email indique que vous devez 'mettre √† jour votre compte imm√©diatement'. Que faire ?", answers: ["Cliquer vite sur le lien", "V√©rifier l‚Äôadresse de l‚Äôexp√©diteur et ne pas cliquer si suspect", "R√©pondre au mail pour plus d'infos"], correct: 1, explanation: "V√©rifier l‚Äôexp√©diteur r√©duit le risque de phishing." },
    { question: "Quel signe peut indiquer un site frauduleux ?", answers: ["Un design tr√®s moderne", "Des fautes dans l‚ÄôURL ou des caract√®res √©tranges", "Un logo diff√©rent de celui de l‚Äôentreprise"], correct: 1, explanation: "Les fautes ou caract√®res √©tranges dans l'URL sont souvent des indices de fraude." },
    { question: "Vous recevez un message d‚Äôun ami avec un lien bizarre. Que faire ?", answers: ["Cliquer, par curiosit√©", "Lui demander s‚Äôil a vraiment envoy√© ce message", "Partager le lien √† d‚Äôautres amis"], correct: 1, explanation: "V√©rifier avec l'exp√©diteur permet d'√©viter d'ouvrir des liens pi√©g√©s." },
    { question: "Quel comportement est typique d‚Äôune tentative de phishing ?", answers: ["Un message urgent ou alarmant", "Un message tr√®s long et technique", "Un message provenant d‚Äôun proche"], correct: 0, explanation: "Les messages urgents ou alarmants poussent √† agir sans r√©fl√©chir." },
    { question: "Vous t√©l√©chargez un logiciel depuis un site non officiel. Quel risque principal ?", answers: ["Le logiciel sera lent", "Un malware peut √™tre install√©", "Votre connexion internet peut devenir plus rapide"], correct: 1, explanation: "Les sites non officiels peuvent contenir des malwares." },
    { question: "Quel √©l√©ment peut indiquer qu‚Äôun message sur les r√©seaux sociaux est une arnaque ?", answers: ["Promettre des cadeaux ou gains irr√©alistes", "Afficher un emoji", "√ätre √©crit en fran√ßais correct"], correct: 0, explanation: "Les promesses irr√©alistes sont souvent des arnaques." },
    { question: "Vous recevez un appel d‚Äôun faux support technique. Que faire ?", answers: ["Le donner pour r√©soudre le probl√®me", "Refuser et raccrocher imm√©diatement", "Lui donner un faux mot de passe"], correct: 1, explanation: "Ne jamais partager vos informations par t√©l√©phone avec des inconnus." },
    { question: "Un fichier PDF re√ßu par mail demande d'activer 'les macros'. Que faire ?", answers: ["Accepter sans r√©fl√©chir", "Refuser : cela peut contenir un virus", "Ouvrir sur un autre appareil"], correct: 1, explanation: "Activer les macros peut installer un malware." },
    { question: "Quel type de pi√®ce jointe est souvent utilis√© pour diffuser des malwares ?", answers: [".jpg", ".exe", ".png"], correct: 1, explanation: "Les fichiers .exe peuvent contenir des programmes malveillants." },
    { question: "Un site vous demande votre carte bancaire pour 'v√©rifier votre identit√©'. Que faire ?", answers: ["S‚Äôex√©cuter, c‚Äôest normal", "Quitter imm√©diatement le site", "Envoyer une photo de votre carte"], correct: 1, explanation: "Ne jamais envoyer vos informations bancaires sur un site suspect." },
    { question: "Un SMS pr√©tend venir de votre banque et vous demande de cliquer pour 's√©curiser votre compte'. Que faire ?", answers: ["Cliquer pour √©viter un risque", "Supprimer le message, c'est du phishing", "R√©pondre pour demander plus de d√©tails"], correct: 1, explanation: "Supprimer le SMS √©vite les arnaques de type phishing." },
    { question: "Vous voyez une offre disant : 'Gagnez un iPhone gratuitement !'. Quel est le danger ?", answers: ["Aucun, c‚Äôest juste une pub", "C‚Äôest souvent une arnaque pour voler des donn√©es", "L‚Äôoffre est vraie mais limit√©e"], correct: 1, explanation: "Les offres trop belles pour √™tre vraies sont souvent des arnaques." },
    { question: "Un message vous demande d‚Äôenvoyer une photo de votre carte d‚Äôidentit√©. Que faire ?", answers: ["L‚Äôenvoyer imm√©diatement", "V√©rifier la demande via un canal officiel", "Envoyer une version flout√©e"], correct: 1, explanation: "Toujours v√©rifier la demande avant d‚Äôenvoyer des documents sensibles." },
    { question: "Vous trouvez une cl√© USB par terre pr√®s du bureau. Que faire ?", answers: ["La brancher pour voir", "La donner au service informatique", "La garder"], correct: 1, explanation: "Ne jamais brancher un p√©riph√©rique inconnu, risque de malware." },
    { question: "Un site vous demande de d√©sactiver votre antivirus pour installer un programme. C‚Äôest un signe de :", answers: ["Site s√©curis√©", "Gros danger de malware", "Simple v√©rification"], correct: 1, explanation: "Les logiciels l√©gitimes ne demandent jamais de d√©sactiver l'antivirus." },
    { question: "Quelle action augmente le risque d‚Äôattaque informatique ?", answers: ["Installer des logiciels crack√©s", "Utiliser des mises √† jour automatiques", "Activer l‚Äôauthentification √† deux facteurs"], correct: 0, explanation: "Les logiciels pirat√©s peuvent contenir des malwares." },
    { question: "Quel type de fichier est le plus dangereux lorsqu'il provient d'une source inconnue ?", answers: [".exe", ".txt", ".mp3"], correct: 0, explanation: "Les fichiers .exe peuvent ex√©cuter des programmes malveillants." },
    { question: "Vous recevez un message vocal d‚Äôun num√©ro inconnu pr√©tendant √™tre un service officiel. Quel r√©flexe ?", answers: ["Rappeler imm√©diatement", "Chercher le num√©ro officiel et v√©rifier vous-m√™me", "Envoyer un SMS pour v√©rifier"], correct: 1, explanation: "Toujours v√©rifier l'identit√© via un canal officiel." },
    { question: "Quel comportement peut indiquer que votre ordinateur est infect√© ?", answers: ["Il chauffe l√©g√®rement", "Il devient anormalement lent ou affiche des pop-ups √©tranges", "Vous devez faire une mise √† jour"], correct: 1, explanation: "Les ralentissements et pop-ups sont signes d'infection." },
    { question: "Vous recevez un PDF vide mais contenant des macros. C‚Äôest probablement :", answers: ["Un document officiel", "Un virus d√©guis√©", "Un document mal format√©"], correct: 1, explanation: "Les macros dans un document inconnu sont souvent malveillantes." }
];

let index = 0;
let score = 0;
let mistakes = [];

const questionEl = document.getElementById("question");
const answersEl = document.getElementById("answers");
const progressEl = document.getElementById("progress");
const nextBtn = document.getElementById("next-btn");
const resultsEl = document.getElementById("results");

function loadQuestion() {
    const q = questions[index];
    progressEl.textContent = `Question ${index + 1} / ${questions.length}`;
    questionEl.textContent = q.question;
    answersEl.innerHTML = "";

    q.answers.forEach((ans, i) => {
        const btn = document.createElement("button");
        btn.className = "btn-answer";
        btn.textContent = ans;
        btn.onclick = () => checkAnswer(i);
        answersEl.appendChild(btn);
    });

    nextBtn.style.display = "none";
}

function checkAnswer(choice) {
    const q = questions[index];

    if (choice === q.correct) score++;
    else mistakes.push({
        question: q.question,
        chosen: q.answers[choice],
        correct: q.answers[q.correct],
        explanation: q.explanation
    });

    // D√©sactiver tous les boutons
    const buttons = document.querySelectorAll(".btn-answer");
    buttons.forEach(btn => btn.disabled = true);

    nextBtn.style.display = "block";
}

nextBtn.onclick = () => {
    index++;
    if (index < questions.length) loadQuestion();
    else endQuiz();
};

function endQuiz() {
    questionEl.style.display = "none";
    answersEl.style.display = "none";
    nextBtn.style.display = "none";

    resultsEl.style.display = "block";
    resultsEl.innerHTML = `<h2>R√©sultat : ${score}/${questions.length}</h2>`;

    if (mistakes.length === 0) {
        resultsEl.innerHTML += "<p>üéâ Parfait ! Aucune erreur !</p>";
        return;
    }

    resultsEl.innerHTML += "<h3>Voici tes erreurs :</h3>";
    mistakes.forEach(err => {
        resultsEl.innerHTML += `
            <div class="error-item">
                <p><b>‚ùå Question :</b> ${err.question}</p>
                <p><b>Ta r√©ponse :</b> ${err.chosen}</p>
                <p><b>Bonne r√©ponse :</b> ${err.correct}</p>
                <p><b>Explication :</b> ${err.explanation}</p>
            </div>
        `;
    });
}

loadQuestion();
</script>

</body>
</html>
